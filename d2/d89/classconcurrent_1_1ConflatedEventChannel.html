<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
    <head>
      <!-- Yandex.Metrika counter -->
      <script type="text/javascript" >
        (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
        (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
        ym(94541714, "init", {
            clickmap:true,
            trackLinks:true,
            accurateTrackBounce:true,
            webvisor:true
        });
      </script>
      <noscript><div><img src="https://mc.yandex.ru/watch/94541714" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
      <!-- /Yandex.Metrika counter -->
      <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
      <meta http-equiv="X-UA-Compatible" content="IE=9"/>
      <meta name="generator" content="Doxygen 1.10.0"/>
      <meta name="viewport" content="width=device-width, initial-scale=1"/>
      <meta property="og:image" content="../../logo_in_circle.png"/>
      <meta property="og:image:alt" content="userver logo"/>
      <link rel="icon" href="../../favicon.svg">
      <title>userver: concurrent::ConflatedEventChannel Class Reference</title>
      <!-- Roboto fonts -->
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital@0;1&family=Roboto:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap" rel="stylesheet">
      <!-- Roboto fonts -->
      <link href="../../tabs.css" rel="stylesheet" type="text/css"/>
      <script type="text/javascript" src="../../jquery.js"></script>
      <!-- Highlight.js -->
      <link rel="stylesheet" href="../../highlightjs.css">
      <script src="../../highlight.min.js"></script>
      <!-- Highlight.js -->
      <!-- Roboto fonts -->
      <script type="text/javascript" src="../../dynsections.js"></script>
      <link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
      <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
      <link href="../../doxygen.css" rel="stylesheet" type="text/css" />
      <link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
      <link rel="stylesheet" href="../../customdoxygen.css">
      <!-- Doxygen Awesome -->
      <script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
      <script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
      <script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
      <script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
      <script type="text/javascript">
        DoxygenAwesomeDarkModeToggle.init()
        DoxygenAwesomeFragmentCopyButton.init()
        DoxygenAwesomeParagraphLink.init()
        DoxygenAwesomeInteractiveToc.topOffset = 180;
      </script>
      <!-- Doxygen Awesome -->
    </head>
    <body>
      <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
          <table cellspacing="0" cellpadding="0" style="width: 100%;">
            <tbody>
              <tr style="height: 56px;">
                <td id="projectlogo"><a id='logo-anchor' href="../../index.html"><img alt="Logo" src="../../logo.svg"/></a></td>
                <td id="projectalign">
                  <div id="projectname">
                    <a class="titlelink" href="../../index.html">userver
                    </a>
                  </div>
                  <div id="projectbrief"><a class="titlelink" href="../../index.html">C++ Async Framework</a></div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- end header part --><!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d2/d89/classconcurrent_1_1ConflatedEventChannel.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="../../d1/ddc/classconcurrent_1_1ConflatedEventChannel-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">concurrent::ConflatedEventChannel Class Reference<div class="ingroups"><a class="el" href="../../dc/db7/group__userver__concurrency.html">Concurrency</a></div></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d3/d71/conflated__event__channel_8hpp_source.html">userver/concurrent/conflated_event_channel.hpp</a>&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A non-blocking version of '<a class="el" href="../../d6/d38/classconcurrent_1_1AsyncEventChannel.html">AsyncEventChannel</a>'. </p>
<p>The difference is that 'SendEvent' returns immediately, without waiting for subscribers to finish. If 'SendEvent' is called multiple times while subscribers are handling the previous event, new events will be conflated (all events except for the last one will be ignored). This class can be used instead of '<a class="el" href="../../d6/d38/classconcurrent_1_1AsyncEventChannel.html">AsyncEventChannel</a>' when we've got a "heavy" subscriber and we don't want to slow down the pipeline. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d71/conflated__event__channel_8hpp_source.html#l00024">24</a> of file <a class="el" href="../../d3/d71/conflated__event__channel_8hpp_source.html">conflated_event_channel.hpp</a>.</p>
</div><div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Inheritance diagram for concurrent::ConflatedEventChannel:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d4e/classconcurrent_1_1ConflatedEventChannel__inherit__graph.svg" width="262" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a80c04c510d6fd271d441ec7e3afb2406" id="r_a80c04c510d6fd271d441ec7e3afb2406"><td class="memItemLeft" align="right" valign="top"><a id="a80c04c510d6fd271d441ec7e3afb2406" name="a80c04c510d6fd271d441ec7e3afb2406"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ConflatedEventChannel</b> (std::string name, OnRemoveCallback on_listener_removal={})</td></tr>
<tr class="separator:a80c04c510d6fd271d441ec7e3afb2406"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bd7a2bad6f55f9c6563d6edfc8230ac" id="r_a8bd7a2bad6f55f9c6563d6edfc8230ac"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a8bd7a2bad6f55f9c6563d6edfc8230ac"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a8bd7a2bad6f55f9c6563d6edfc8230ac">AddChannel</a> (<a class="el" href="../../dc/d11/classconcurrent_1_1AsyncEventSource.html">concurrent::AsyncEventSource</a>&lt; Args... &gt; &amp;channel)</td></tr>
<tr class="memdesc:a8bd7a2bad6f55f9c6563d6edfc8230ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">For convenient forwarding of events from other channels.  <br /></td></tr>
<tr class="separator:a8bd7a2bad6f55f9c6563d6edfc8230ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa5f1963e91b94a16193315cd54ced37" id="r_aaa5f1963e91b94a16193315cd54ced37"><td class="memTemplParams" colspan="2">template&lt;typename Class &gt; </td></tr>
<tr class="memitem:aaa5f1963e91b94a16193315cd54ced37"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../dd/de6/classconcurrent_1_1AsyncEventSubscriberScope.html">concurrent::AsyncEventSubscriberScope</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#aaa5f1963e91b94a16193315cd54ced37">UpdateAndListen</a> (Class *obj, std::string_view name, void(Class::*func)())</td></tr>
<tr class="separator:aaa5f1963e91b94a16193315cd54ced37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7024b902c2a5aa1a7645b9dc62b1d69f" id="r_a7024b902c2a5aa1a7645b9dc62b1d69f"><td class="memItemLeft" align="right" valign="top"><a id="a7024b902c2a5aa1a7645b9dc62b1d69f" name="a7024b902c2a5aa1a7645b9dc62b1d69f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SendEvent</b> ()</td></tr>
<tr class="separator:a7024b902c2a5aa1a7645b9dc62b1d69f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a1c6e55772d62d6d92149ca80d92775df" id="r_a1c6e55772d62d6d92149ca80d92775df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d38/classconcurrent_1_1AsyncEventChannel.html#a1c6e55772d62d6d92149ca80d92775df">SendEvent</a> (Args... args) const</td></tr>
<tr class="separator:a1c6e55772d62d6d92149ca80d92775df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8bd7a2bad6f55f9c6563d6edfc8230ac" name="a8bd7a2bad6f55f9c6563d6edfc8230ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bd7a2bad6f55f9c6563d6edfc8230ac">&#9670;&#160;</a></span>AddChannel()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void concurrent::ConflatedEventChannel::AddChannel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d11/classconcurrent_1_1AsyncEventSource.html">concurrent::AsyncEventSource</a>&lt; Args... &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>channel</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For convenient forwarding of events from other channels. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d71/conflated__event__channel_8hpp_source.html#l00053">53</a> of file <a class="el" href="../../d3/d71/conflated__event__channel_8hpp_source.html">conflated_event_channel.hpp</a>.</p>

</div>
</div>
<a id="aaa5f1963e91b94a16193315cd54ced37" name="aaa5f1963e91b94a16193315cd54ced37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa5f1963e91b94a16193315cd54ced37">&#9670;&#160;</a></span>UpdateAndListen()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Class &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/de6/classconcurrent_1_1AsyncEventSubscriberScope.html">concurrent::AsyncEventSubscriberScope</a> concurrent::ConflatedEventChannel::UpdateAndListen </td>
          <td>(</td>
          <td class="paramtype">Class *</td>          <td class="paramname"><span class="paramname"><em>obj</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>name</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(Class::*)()</td>          <td class="paramname"><span class="paramname"><em>func</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Subscribes to updates using a member function. Also immediately invokes the function with the current config snapshot. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d71/conflated__event__channel_8hpp_source.html#l00059">59</a> of file <a class="el" href="../../d3/d71/conflated__event__channel_8hpp_source.html">conflated_event_channel.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>userver/concurrent/<a class="el" href="../../d3/d71/conflated__event__channel_8hpp_source.html">conflated_event_channel.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../df/d2b/namespaceconcurrent.html">concurrent</a></li><li class="navelem"><a class="el" href="../../d2/d89/classconcurrent_1_1ConflatedEventChannel.html">ConflatedEventChannel</a></li>
    <li class="footer">Generated on Mon Oct 21 2024 13:56:01 for userver by
    <a href="https://www.doxygen.org/index.html">Doxygen</a> 1.10.0</li>
  </ul>
</div>
<script type="text/javascript" src="../../codeHighlight.js"></script>
<script type="text/javascript" src="../../telegramLanguage.js"></script>
<script type="text/javascript" src="../../styledBtn.js"></script>
<script type="text/javascript" src="../../search.js"></script>
<script type="text/javascript" src="../../header.js"></script>
<script type="text/javascript" src="../../searchHighlight.js"></script>
<script>
  const addLinks = () =>  {
      const links = document.createElement('div')
      links.id = 'links';
      links.innerHTML = `
          <a href="https://github.com/userver-framework/" id='github_header' rel="noopener" target="_blank" class="titlelink">
              <img src="../../github_logo.svg" alt="Github" class="gh-logo"/>
          </a>
          <a href="https://t.me/userver_en" rel="noopener" id='telegram_channel' target="_blank" class="titlelink generic_tg_link">
              <img src="../../telegram_logo.svg" alt="Telegram"/>
          </a>
      `
      document.getElementById('main-navbar').appendChild(links);
  }
  $(function() {
    $(document).ready(function() {
      setTimeout(() => {
      init_all_results_button();
      init_search_hotkey();
      init_header();
      addLinks();
      changeTelegramChannelLanguageForRussianSpeakingUser();
      document.getElementById("side-nav").style.display = "none";
      const isLanding = document.getElementById('landing_logo_id') !== null;
      if (isLanding) return;
      highlight_code();
      styleNavButtons();
    }, 0);
    });
  });
</script>
<script type="module" src="../../toc.js"></script>
</body>
</html>
