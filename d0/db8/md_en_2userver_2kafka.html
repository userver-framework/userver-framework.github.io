<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
    <head>
      <!-- Yandex.Metrika counter -->
      <script type="text/javascript" >
        (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
        (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
        ym(94541714, "init", {
            clickmap:true,
            trackLinks:true,
            accurateTrackBounce:true,
            webvisor:true
        });
      </script>
      <noscript><div><img src="https://mc.yandex.ru/watch/94541714" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
      <!-- /Yandex.Metrika counter -->
      <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
      <meta http-equiv="X-UA-Compatible" content="IE=9"/>
      <meta name="generator" content="Doxygen 1.10.0"/>
      <meta name="viewport" content="width=device-width, initial-scale=1"/>
      <meta property="og:image" content="../../logo_in_circle.png"/>
      <meta property="og:image:alt" content="userver logo"/>
      <link rel="icon" href="../../favicon.svg">
      <title>userver: Apache Kafka</title>
      <!-- Roboto fonts -->
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital@0;1&family=Roboto:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap" rel="stylesheet">
      <!-- Roboto fonts -->
      <link href="../../tabs.css" rel="stylesheet" type="text/css"/>
      <script type="text/javascript" src="../../jquery.js"></script>
      <!-- Highlight.js -->
      <link rel="stylesheet" href="../../highlightjs.css">
      <script src="../../highlight.min.js"></script>
      <!-- Highlight.js -->
      <!-- Roboto fonts -->
      <script type="text/javascript" src="../../dynsections.js"></script>
      <link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
      <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
      <link href="../../doxygen.css" rel="stylesheet" type="text/css" />
      <link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
      <link rel="stylesheet" href="../../customdoxygen.css">
      <!-- Doxygen Awesome -->
      <script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
      <script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
      <script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
      <script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
      <script type="text/javascript">
        DoxygenAwesomeDarkModeToggle.init()
        DoxygenAwesomeFragmentCopyButton.init()
        DoxygenAwesomeParagraphLink.init()
        DoxygenAwesomeInteractiveToc.topOffset = 180;
      </script>
      <!-- Doxygen Awesome -->
    </head>
    <body>
      <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
          <table cellspacing="0" cellpadding="0" style="width: 100%;">
            <tbody>
              <tr style="height: 56px;">
                <td id="projectlogo"><a id='logo-anchor' href="../../index.html"><img alt="Logo" src="../../logo.svg"/></a></td>
                <td id="projectalign">
                  <div id="projectname">
                    <a class="titlelink" href="../../index.html">userver
                    </a>
                  </div>
                  <div id="projectbrief"><a class="titlelink" href="../../index.html">C++ Async Framework</a></div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- end header part --><!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d0/db8/md_en_2userver_2kafka.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Apache Kafka</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md346"></a> <b>Quality:</b> <a class="el" href="../../db/d57/md_en_2userver_2development_2stability.html#QUALITY_TIERS">Silver Tier</a>.</p>
<p>üêô <b>userver</b> provides access to Apache Kafka Brokers via two independent interfaces: <a class="el" href="../../d5/d88/classkafka_1_1ProducerComponent.html" title="Apache Kafka Producer client component.">kafka::ProducerComponent</a> and <a class="el" href="../../db/ddc/classkafka_1_1ConsumerComponent.html" title="Apache Kafka Consumer client component.">kafka::ConsumerComponent</a>.</p>
<p>They expose APIs for sending messages to Kafka topics, suspending coroutine until message delivery succeeded or failed, and for process message batches from the subscribed set of topics, asynchronously polling messages in separate task processor.</p>
<h1><a class="anchor" id="autotoc_md347"></a>
Common Features</h1>
<ul>
<li>Easy to configure (compared with raw Kafka clients with dozens of options);</li>
<li>No message payload copying;</li>
<li>Support of SASL SCRAM-SHA-512 authentication and SSL transport for Broker communication;</li>
<li>Comprehensive logs of all events and errors;</li>
<li>Metrics;</li>
</ul>
<h1><a class="anchor" id="autotoc_md348"></a>
Producer Features</h1>
<ul>
<li>üöÄ Parallel cooperative messages delivery reports processing (in comparison with all librdkafka-based Kafka clients, the performance of which rests on a single thread);</li>
<li>üöÄ No blocking waits in implementation (message senders suspend their coroutines execution until delivery reports occurred);</li>
<li>Synchronous and asynchronous non-blocking interfaces for producing messages;</li>
<li>Automatic retries of transient errors;</li>
<li>Support of idempotent producer (exactly-once semantics);</li>
<li>Sending message to concrete topic's partition;</li>
</ul>
<h1><a class="anchor" id="autotoc_md349"></a>
Consumer Features</h1>
<ul>
<li>üöÄ No blocking waits in implementation (message poller suspends the coroutine until new events occurred);</li>
<li>Callback interface for handling message batches polled from subscribed topics;</li>
<li>Balanced consumer groups support;</li>
<li>Automatic rollback to last committed message when batch processing failed;</li>
<li>Partition offsets asynchronous commit;</li>
</ul>
<h1><a class="anchor" id="autotoc_md350"></a>
Planned Enhancements</h1>
<ul>
<li>‚úÖ Transfer from raw polling with timeouts to events processing, making the message polling non-blocking and leading to better library scalability;</li>
<li>‚úÖ testsuite Kafka support in OSS;</li>
<li>Support of different compression codecs (GZIP, LZ4, ZSTD, etc..);</li>
<li>Support more SASL authentication mechanisms (GSSAPI, OAUTHBEARER);</li>
</ul>
<h1><a class="anchor" id="autotoc_md351"></a>
Unit and functional testing</h1>
<ul>
<li><a class="el" href="../../d9/d1c/md_en_2userver_2tutorial_2kafka__service.html">Kafka service</a> shows how to test userver services with Kafka consumers and producers;</li>
<li><a class="el" href="../../d7/de2/classkafka_1_1utest_1_1KafkaCluster.html" title="Helper for Kafka unit testing.">kafka::utest::KafkaCluster</a> may be used for convenient unit testing with local consumers and producers instances;</li>
</ul>
<h2><a class="anchor" id="autotoc_md352"></a>
More information</h2>
<ul>
<li>For configuration see <a class="el" href="../../d5/d88/classkafka_1_1ProducerComponent.html" title="Apache Kafka Producer client component.">kafka::ProducerComponent</a> and <a class="el" href="../../db/ddc/classkafka_1_1ConsumerComponent.html" title="Apache Kafka Consumer client component.">kafka::ConsumerComponent</a>;</li>
<li>For understanding of interfaces see <a class="el" href="../../da/df0/classkafka_1_1Producer.html" title="Apache Kafka Producer Client.">kafka::Producer</a> and <a class="el" href="../../db/dbe/classkafka_1_1ConsumerScope.html" title="RAII class that used as interface for Apache Kafka Consumer interaction and proper lifetime managemen...">kafka::ConsumerScope</a>;</li>
<li>Also kafka::impl::Consumer and kafka::impl::Configuration are well documented and may be useful;</li>
</ul>
<hr  />
<p> <div class="bottom-nav">  ‚á¶ <a class="el" href="../../dd/d32/md_en_2userver_2mysql_2design__and__details.html">MySQL driver design and implementation details</a> | <a class="el" href="../../d3/d6a/md_en_2userver_2ydb.html">YDB</a> ‚á®  </div>  </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Oct 21 2024 13:55:59 for userver by
    <a href="https://www.doxygen.org/index.html">Doxygen</a> 1.10.0</li>
  </ul>
</div>
<script type="text/javascript" src="../../codeHighlight.js"></script>
<script type="text/javascript" src="../../telegramLanguage.js"></script>
<script type="text/javascript" src="../../styledBtn.js"></script>
<script type="text/javascript" src="../../search.js"></script>
<script type="text/javascript" src="../../header.js"></script>
<script type="text/javascript" src="../../searchHighlight.js"></script>
<script>
  const addLinks = () =>  {
      const links = document.createElement('div')
      links.id = 'links';
      links.innerHTML = `
          <a href="https://github.com/userver-framework/" id='github_header' rel="noopener" target="_blank" class="titlelink">
              <img src="../../github_logo.svg" alt="Github" class="gh-logo"/>
          </a>
          <a href="https://t.me/userver_en" rel="noopener" id='telegram_channel' target="_blank" class="titlelink generic_tg_link">
              <img src="../../telegram_logo.svg" alt="Telegram"/>
          </a>
      `
      document.getElementById('main-navbar').appendChild(links);
  }
  $(function() {
    $(document).ready(function() {
      setTimeout(() => {
      init_all_results_button();
      init_search_hotkey();
      init_header();
      addLinks();
      changeTelegramChannelLanguageForRussianSpeakingUser();
      document.getElementById("side-nav").style.display = "none";
      const isLanding = document.getElementById('landing_logo_id') !== null;
      if (isLanding) return;
      highlight_code();
      styleNavButtons();
    }, 0);
    });
  });
</script>
<script type="module" src="../../toc.js"></script>
</body>
</html>
