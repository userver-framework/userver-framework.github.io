<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
    <head>
      <!-- Yandex.Metrika counter -->
      <script type="text/javascript" >
        (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
        (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
        ym(94541714, "init", {
            clickmap:true,
            trackLinks:true,
            accurateTrackBounce:true,
            webvisor:true
        });
      </script>
      <noscript><div><img src="https://mc.yandex.ru/watch/94541714" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
      <!-- /Yandex.Metrika counter -->
      <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
      <meta http-equiv="X-UA-Compatible" content="IE=9"/>
      <meta name="generator" content="Doxygen 1.10.0"/>
      <meta name="viewport" content="width=device-width, initial-scale=1"/>
      <meta property="og:image" content="../../logo_in_circle.png"/>
      <meta property="og:image:alt" content="userver logo"/>
      <link rel="icon" href="../../favicon.svg">
      <title>userver: The Basics</title>
      <!-- Roboto fonts -->
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital@0;1&family=Roboto:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap" rel="stylesheet">
      <!-- Roboto fonts -->
      <link href="../../tabs.css" rel="stylesheet" type="text/css"/>
      <script type="text/javascript" src="../../jquery.js"></script>
      <!-- Highlight.js -->
      <link rel="stylesheet" href="../../highlightjs.css">
      <script src="../../highlight.min.js"></script>
      <!-- Highlight.js -->
      <!-- Roboto fonts -->
      <script type="text/javascript" src="../../dynsections.js"></script>
      <link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
      <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
      <link href="../../doxygen.css" rel="stylesheet" type="text/css" />
      <link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
      <link rel="stylesheet" href="../../customdoxygen.css">
      <!-- Doxygen Awesome -->
      <script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
      <script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
      <script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
      <script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
      <script type="text/javascript">
        DoxygenAwesomeDarkModeToggle.init()
        DoxygenAwesomeFragmentCopyButton.init()
        DoxygenAwesomeParagraphLink.init()
        DoxygenAwesomeInteractiveToc.topOffset = 180;
      </script>
      <!-- Doxygen Awesome -->
    </head>
    <body>
      <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
          <table cellspacing="0" cellpadding="0" style="width: 100%;">
            <tbody>
              <tr style="height: 56px;">
                <td id="projectlogo"><a id='logo-anchor' href="../../index.html"><img alt="Logo" src="../../logo.svg"/></a></td>
                <td id="projectalign">
                  <div id="projectname">
                    <a class="titlelink" href="../../index.html">userver
                    </a>
                  </div>
                  <div id="projectbrief"><a class="titlelink" href="../../index.html">C++ Async Framework</a></div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- end header part --><!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d8/d00/md_en_2userver_2intro.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">The Basics</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md335"></a> </p>
<h1><a class="anchor" id="autotoc_md336"></a>
Restrictions</h1>
<p>Usage of <code>catch (...)</code> without <code>throw;</code> <b>should be avoided</b> as the framework may use exceptions not derived from <code>std::exception</code> to manage some resources. Usage of <code>catch</code> with explicit exception type specification (like <code>std::exception</code> or <code>std::runtime_error</code>) is fine without <code>throw;</code>.</p>
<p>üêô <b>userver</b> uses its own coroutine scheduler, which is unknown to the C++ standard library, as well as to the libc/pthreads. The standard library for synchronization often uses mutexes, other synchronization primitives and event waiting mechanisms that block the current thread. When using userver, this results in the current thread not being able to be used to execute other coroutines. As a result, the number of threads executing coroutines decreases. This can lead to a huge performance drops and increased latencies.</p>
<p>For the reasons described above, the use of synchronization primitives or IO operations of the C++ standard library and libc in the <a class="el" href="../../db/d90/md_en_2userver_2task__processors__guide.html">main task processor</a> <b>should be avoided</b> in high-load applications. The same goes for all functions and classes that use blocking IO operations or synchronization primitives.</p>
<p><b>‚ö†Ô∏èüêô‚ùó Instead of the standard primitives, you need to use the primitives from the userver:</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Standard primitive   </th><th class="markdownTableHeadNone">Replacement from userver    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>thread_local</code>   </td><td class="markdownTableBodyNone"><a class="el" href="../../d6/d6c/md_en_2userver_2synchronization.html#userver_thread_local">It depends, but do not use standard thread_local</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>std::this_thread::sleep_for()</code>   </td><td class="markdownTableBodyNone"><code><a class="el" href="../../dc/d3f/namespaceengine.html#a3f0a331825dbd69a272a606b7d5006ed">engine::SleepFor()</a></code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>std::this_thread::sleep_until()</code>   </td><td class="markdownTableBodyNone"><code><a class="el" href="../../dc/d3f/namespaceengine.html#a0f84db0357fdd50ce490138d01ec5a51">engine::SleepUntil()</a></code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>std::mutex</code>   </td><td class="markdownTableBodyNone"><code><a class="el" href="../../d0/da4/classengine_1_1Mutex.html" title="std::mutex replacement for asynchronous tasks.">engine::Mutex</a></code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>std::shared_mutex</code>   </td><td class="markdownTableBodyNone"><code><a class="el" href="../../d6/d70/classengine_1_1SharedMutex.html" title="std::shared_mutex replacement for asynchronous tasks.">engine::SharedMutex</a></code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>std::condition_variable</code>   </td><td class="markdownTableBodyNone"><code><a class="el" href="../../d3/d5d/classengine_1_1ConditionVariable.html" title="std::condition_variable replacement for asynchronous tasks">engine::ConditionVariable</a></code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>std::future&lt;T&gt;</code>   </td><td class="markdownTableBodyNone"><code><a class="el" href="../../db/d80/classengine_1_1TaskWithResult.html">engine::TaskWithResult</a>&lt;T&gt;</code> or <code><a class="el" href="../../d8/d67/classengine_1_1Future.html" title="std::future replacement for asynchronous tasks that works in pair with engine::Promise">engine::Future</a></code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>std::async()</code>   </td><td class="markdownTableBodyNone"><code><a class="el" href="../../dc/db7/group__userver__concurrency.html#ga29b9a09eacda1ddf8b4440b3713f5e52" title="Starts an asynchronous task.">utils::Async()</a></code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>std::thread</code>   </td><td class="markdownTableBodyNone"><code><a class="el" href="../../dc/db7/group__userver__concurrency.html#ga29b9a09eacda1ddf8b4440b3713f5e52" title="Starts an asynchronous task.">utils::Async()</a></code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>std::counting_semaphore</code>   </td><td class="markdownTableBodyNone"><code><a class="el" href="../../db/d16/classengine_1_1Semaphore.html" title="Class that allows up to max_simultaneous_locks concurrent accesses to the critical section....">engine::Semaphore</a></code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">network sockets   </td><td class="markdownTableBodyNone"><code><a class="el" href="../../dd/dcf/classengine_1_1io_1_1Socket.html" title="Socket representation.">engine::io::Socket</a></code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>std::filesystem::</code>   </td><td class="markdownTableBodyNone"><code><a class="el" href="../../d5/d8f/namespacefs.html" title="filesystem support">fs</a>::*</code> (but not <code><a class="el" href="../../dc/dcb/namespacefs_1_1blocking.html" title="blocking function and classes to work with filesystem">fs::blocking</a>::*</code>!)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>std::cout</code>   </td><td class="markdownTableBodyNone"><code><a class="el" href="../../dd/de6/universal_2include_2userver_2logging_2log_8hpp.html#a87d766158e3857c6aedba65e63f24d05" title="Evaluates a message and logs it to the default logger if its level is below or equal to logging::Leve...">LOG_INFO()</a></code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>std::cerr</code>   </td><td class="markdownTableBodyNone"><code><a class="el" href="../../dd/de6/universal_2include_2userver_2logging_2log_8hpp.html#af4286b23b3d2bde3eab2c8bd7131fee4" title="Evaluates a message and logs it to the default logger if its level is below or equal to logging::Leve...">LOG_WARNING()</a></code> and <code><a class="el" href="../../dd/de6/universal_2include_2userver_2logging_2log_8hpp.html#aa14f3fd56b4112420dd49c2ebf8276f1" title="Evaluates a message and logs it to the default logger if its level is below or equal to logging::Leve...">LOG_ERROR()</a></code>   </td></tr>
</table>
<p>An overview of the main synchronization mechanisms is available <a class="el" href="../../d6/d6c/md_en_2userver_2synchronization.html">on a separate page</a>.</p>
<p>Note that if your application is not meant for high-load and does not require low-latency, then it may be fine to run all the code on the same task processor.</p>
<hr  />
<p> ‚ö†Ô∏èüêô‚ùó If you want to run code that uses standard synchronization primitives (for example, code from a third-party library), then this code should be run in a separate <code>engine::TaskProcessor</code> to avoid starvation of main task processors. See <a class="el" href="../../db/d90/md_en_2userver_2task__processors__guide.html">Guide on TaskProcessor Usage</a> for more info. </p><hr  />
<h1><a class="anchor" id="autotoc_md337"></a>
Tasks</h1>
<p>The asynchronous <b>task</b> (<code><a class="el" href="../../d8/d7c/classengine_1_1Task.html" title="Asynchronous task that has a unique ownership of the payload.">engine::Task</a></code>, <code><a class="el" href="../../db/d80/classengine_1_1TaskWithResult.html">engine::TaskWithResult</a></code>) can return a result (possibly in form of an exception) or return nothing. In any case, the task has the semantics of future, i.e. you can wait for it and get the result from it.</p>
<p>To create a task call the <code><a class="el" href="../../dc/db7/group__userver__concurrency.html#ga29b9a09eacda1ddf8b4440b3713f5e52" title="Starts an asynchronous task.">utils::Async</a></code> function. It accepts the name of a task, the user-defined function to execute, and the arguments of the user-defined function:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> task = <a class="code hl_function" href="../../dc/db7/group__userver__concurrency.html#ga29b9a09eacda1ddf8b4440b3713f5e52" title="Starts an asynchronous task.">utils::Async</a>(<span class="stringliteral">&quot;my_job&quot;</span>, &amp;func, arg1, arg2);</div>
<div class="line"><span class="comment">// do something ...</span></div>
<div class="line"><span class="keyword">auto</span> result = task.Get();</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md338"></a>
Waiting</h1>
<p>The code inside the coroutine may want to wait for an external event - a response from the database, a response from the HTTP client, the arrival of a certain time. If a coroutine wants to wait, it tells the engine that it wants to suspend its execution, and another coroutine starts executing on the current thread of the operating system instead. As a result, the thread is not idle, but reused by other users. After an external event occurs, the coroutine will be scheduled and executed.</p>
<div class="fragment"><div class="line">f();</div>
<div class="line"><a class="code hl_function" href="../../dc/d3f/namespaceengine.html#a3f0a331825dbd69a272a606b7d5006ed">engine::SleepFor</a>(std::chrono::seconds(60)); <span class="comment">// voluntarily giving the current thread to other coroutines</span></div>
<div class="line">g(); <span class="comment">// The thread has returned to us</span></div>
</div><!-- fragment --><p><a class="anchor" id="task_cancellation_intro"></a></p>
<h1><a class="anchor" id="autotoc_md339"></a>
Task cancellation</h1>
<p>Task can be notified that it needs to discard its progress and finish early. Cancelling a task restricts the execution of blocking operations in that task.</p>
<p>To cancel a task, just call the <code><a class="el" href="../../d5/d4b/classengine_1_1TaskBase.html#a062733b762bbd3206bec656aec663ed1" title="Queues task cancellation request.">engine::Task::RequestCancel()</a></code> or <code><a class="el" href="../../d5/d4b/classengine_1_1TaskBase.html#ae329278cafb9d1a44488184f49e2328d" title="Cancels the task and suspends execution until it is finished. Can be called from coroutine context on...">engine::Task::SyncCancel()</a></code> method. It cancels only a single task and does not affect the subtasks that were created by the canceled task. The framework typically reports a wait interrupt either by using a return code (for example, <code>CvStatus</code> for <code><a class="el" href="../../d3/d5d/classengine_1_1ConditionVariable.html#aae663b5b5865e24e5c3aff2a87e954c2">engine::ConditionVariable::Wait</a></code>), or by throwing a module-specific exception (<code>WaitInterruptedException</code> for <code><a class="el" href="../../d5/d4b/classengine_1_1TaskBase.html#acb992fb952993a82dc50d0e472521d18" title="Suspends execution until the task finishes or caller is cancelled. Can be called from coroutine conte...">engine::Task::Wait</a></code>).</p>
<p>In addition to explicitly calling <code><a class="el" href="../../d5/d4b/classengine_1_1TaskBase.html#a062733b762bbd3206bec656aec663ed1" title="Queues task cancellation request.">engine::Task::RequestCancel()</a></code>, cancellation can occur:</p><ul>
<li>due to application shutdown;</li>
<li>due to the end of the <code><a class="el" href="../../d8/d7c/classengine_1_1Task.html" title="Asynchronous task that has a unique ownership of the payload.">engine::Task</a></code> lifetime;</li>
<li>for other reasons (lack of resources, task hanging, etc.).</li>
</ul>
<p>The user is provided with several mechanisms to control the behavior of the application in case of cancellation:</p><ul>
<li><code><a class="el" href="../../d2/d64/namespaceengine_1_1current__task.html#a8d5e89aac1226c90d4f8e0826ea68256" title="Throws an exception if a cancellation request for this task is pending.">engine::current_task::CancellationPoint()</a></code> &ndash; if the task is canceled, calling this function throws an exception that is not caught during normal exception handling (not inherited from <code>std::exception</code>). This will result in stack unwinding with normal destructor calls for all local objects. <b>‚ö†Ô∏èüêô‚ùó Catching this exception results in UB, your code should not have <code>catch (...)</code> without <code>throw;</code> in the handler body</b>!</li>
<li><code><a class="el" href="../../d2/d64/namespaceengine_1_1current__task.html#aed8fc1cdfd588f3973f5c9bc503c9986">engine::current_task::ShouldCancel()</a></code> and <code><a class="el" href="../../d2/d64/namespaceengine_1_1current__task.html#a561f4b1f4b6d9b12f41a8f6a0d98547e">engine::current_task::IsCancelRequested()</a></code> &ndash; predicates that return <code>true</code> if the task is canceled:<ul>
<li>by default, use <code><a class="el" href="../../d2/d64/namespaceengine_1_1current__task.html#aed8fc1cdfd588f3973f5c9bc503c9986">engine::current_task::ShouldCancel()</a></code>. It reports that a cancellation was requested for the task and the cancellation was not blocked (see below);</li>
<li><code><a class="el" href="../../d2/d64/namespaceengine_1_1current__task.html#a561f4b1f4b6d9b12f41a8f6a0d98547e">engine::current_task::IsCancelRequested()</a></code> notifies that the task was canceled even if cancellation was blocked; effectively ignoring caller's requests to complete the task regardless of cancellation.</li>
</ul>
</li>
<li><code><a class="el" href="../../df/d40/classengine_1_1TaskCancellationBlocker.html">engine::TaskCancellationBlocker</a></code> &ndash; scope guard, preventing cancellation in the current task. As long as it is alive all the blocking calls are not interrupted, <code><a class="el" href="../../d2/d64/namespaceengine_1_1current__task.html#a8d5e89aac1226c90d4f8e0826ea68256" title="Throws an exception if a cancellation request for this task is pending.">engine::current_task::CancellationPoint</a></code> throws no exceptions, <code><a class="el" href="../../d2/d64/namespaceengine_1_1current__task.html#aed8fc1cdfd588f3973f5c9bc503c9986">engine::current_task::ShouldCancel</a></code> returns <code>false</code>. <b>‚ö†Ô∏èüêô‚ùó Disabling cancellation does not affect the return value of <code><a class="el" href="../../d2/d64/namespaceengine_1_1current__task.html#a561f4b1f4b6d9b12f41a8f6a0d98547e">engine::current_task::IsCancelRequested()</a></code>.</b></li>
</ul>
<p>Calling <code><a class="el" href="../../db/d80/classengine_1_1TaskWithResult.html#a3b5802799716e29c5cd038fb28a9340d" title="Returns (or rethrows) the result of task invocation. After return from this method the task is not va...">engine::TaskWithResult::Get()</a></code> on a canceled task would wait for task to finish and a <code><a class="el" href="../../d8/dc1/classengine_1_1TaskCancelledException.html" title="Thrown if a TaskWithResult, for which we were waiting, got cancelled.">engine::TaskCancelledException</a></code> exception would be thrown afterwards. For non-canceled tasks the <code><a class="el" href="../../db/d80/classengine_1_1TaskWithResult.html#a3b5802799716e29c5cd038fb28a9340d" title="Returns (or rethrows) the result of task invocation. After return from this method the task is not va...">engine::TaskWithResult::Get()</a></code> returns the result of the task.</p>
<p>Note that the destructor of <code><a class="el" href="../../d8/d7c/classengine_1_1Task.html" title="Asynchronous task that has a unique ownership of the payload.">engine::Task</a></code> cancels and waits for task to finish if the task has not finished yet. Use <code><a class="el" href="../../d0/dc7/classconcurrent_1_1BackgroundTaskStorage.html">concurrent::BackgroundTaskStorage</a></code> or <code><a class="el" href="../../d8/d7c/classengine_1_1Task.html#af38546bfc7a0d3b86387980ce48bbb98" title="Detaches task, allowing it to continue execution out of scope; memory safety is much better with conc...">engine::Task::Detach()</a></code> to continue task execution out of scope.</p>
<hr  />
<p> <div class="bottom-nav">  ‚á¶ <a class="el" href="../../d7/d08/md_en_2userver_2intro__io__bound__coro.html">I/O-bound Applications and Coroutines</a> | <a class="el" href="../../da/d26/md_en_2userver_2framework__comparison.html">Feature Comparison with other Frameworks</a> ‚á®  </div>  </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Oct 21 2024 13:55:59 for userver by
    <a href="https://www.doxygen.org/index.html">Doxygen</a> 1.10.0</li>
  </ul>
</div>
<script type="text/javascript" src="../../codeHighlight.js"></script>
<script type="text/javascript" src="../../telegramLanguage.js"></script>
<script type="text/javascript" src="../../styledBtn.js"></script>
<script type="text/javascript" src="../../search.js"></script>
<script type="text/javascript" src="../../header.js"></script>
<script type="text/javascript" src="../../searchHighlight.js"></script>
<script>
  const addLinks = () =>  {
      const links = document.createElement('div')
      links.id = 'links';
      links.innerHTML = `
          <a href="https://github.com/userver-framework/" id='github_header' rel="noopener" target="_blank" class="titlelink">
              <img src="../../github_logo.svg" alt="Github" class="gh-logo"/>
          </a>
          <a href="https://t.me/userver_en" rel="noopener" id='telegram_channel' target="_blank" class="titlelink generic_tg_link">
              <img src="../../telegram_logo.svg" alt="Telegram"/>
          </a>
      `
      document.getElementById('main-navbar').appendChild(links);
  }
  $(function() {
    $(document).ready(function() {
      setTimeout(() => {
      init_all_results_button();
      init_search_hotkey();
      init_header();
      addLinks();
      changeTelegramChannelLanguageForRussianSpeakingUser();
      document.getElementById("side-nav").style.display = "none";
      const isLanding = document.getElementById('landing_logo_id') !== null;
      if (isLanding) return;
      highlight_code();
      styleNavButtons();
    }, 0);
    });
  });
</script>
<script type="module" src="../../toc.js"></script>
</body>
</html>
