<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
    <head>
      <!-- Yandex.Metrika counter -->
      <script type="text/javascript" >
        (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
        (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
        ym(94541714, "init", {
            clickmap:true,
            trackLinks:true,
            accurateTrackBounce:true,
            webvisor:true
        });
      </script>
      <noscript><div><img src="https://mc.yandex.ru/watch/94541714" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
      <!-- /Yandex.Metrika counter -->
      <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
      <meta http-equiv="X-UA-Compatible" content="IE=9"/>
      <meta name="generator" content="Doxygen 1.10.0"/>
      <meta name="viewport" content="width=device-width, initial-scale=1"/>
      <meta property="og:image" content="../../logo_in_circle.png"/>
      <meta property="og:image:alt" content="userver logo"/>
      <link rel="icon" href="../../favicon.svg">
      <title>userver: ugrpc::client::BidirectionalStream&lt; Request, Response &gt; Class Template Reference</title>
      <!-- Roboto fonts -->
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital@0;1&family=Roboto:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap" rel="stylesheet">
      <!-- Roboto fonts -->
      <link href="../../tabs.css" rel="stylesheet" type="text/css"/>
      <script type="text/javascript" src="../../jquery.js"></script>
      <!-- Highlight.js -->
      <link rel="stylesheet" href="../../highlightjs.css">
      <script src="../../highlight.min.js"></script>
      <!-- Highlight.js -->
      <!-- Roboto fonts -->
      <script type="text/javascript" src="../../dynsections.js"></script>
      <link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
      <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
      <link href="../../doxygen.css" rel="stylesheet" type="text/css" />
      <link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
      <link rel="stylesheet" href="../../customdoxygen.css">
      <!-- Doxygen Awesome -->
      <script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
      <script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
      <script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
      <script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
      <script type="text/javascript">
        DoxygenAwesomeDarkModeToggle.init()
        DoxygenAwesomeFragmentCopyButton.init()
        DoxygenAwesomeParagraphLink.init()
        DoxygenAwesomeInteractiveToc.topOffset = 180;
      </script>
      <!-- Doxygen Awesome -->
    </head>
    <body>
      <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
          <table cellspacing="0" cellpadding="0" style="width: 100%;">
            <tbody>
              <tr style="height: 56px;">
                <td id="projectlogo"><a id='logo-anchor' href="../../index.html"><img alt="Logo" src="../../logo.svg"/></a></td>
                <td id="projectalign">
                  <div id="projectname">
                    <a class="titlelink" href="../../index.html">userver
                    </a>
                  </div>
                  <div id="projectbrief"><a class="titlelink" href="../../index.html">C++ Async Framework</a></div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- end header part --><!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d1/dd7/classugrpc_1_1client_1_1BidirectionalStream.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="../../d7/d28/classugrpc_1_1client_1_1BidirectionalStream-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ugrpc::client::BidirectionalStream&lt; Request, Response &gt; Class Template Reference<span class="mlabels"><span class="mlabel">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../db/df8/client_2rpc_8hpp_source.html">userver/ugrpc/client/rpc.hpp</a>&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename Request, typename Response&gt;<br />
class ugrpc::client::BidirectionalStream&lt; Request, Response &gt;</div><p>Controls a request stream -&gt; response stream RPC. </p>
<p>It is safe to call the following methods from different coroutines:</p>
<ul>
<li><code>GetContext</code>;</li>
<li>one of (<code>Read</code>, <code>ReadAsync</code>);</li>
<li>one of (<code>Write</code>, <code>WritesDone</code>).</li>
</ul>
<p><code>WriteAndCheck</code> is NOT thread-safe.</p>
<p>The RPC is cancelled on destruction unless the stream is closed (<code>Read</code> has returned <code>false</code>). In that case the connection is not closed (it will be reused for new RPCs), and the server receives <code><a class="el" href="../../db/d86/classugrpc_1_1client_1_1RpcInterruptedError.html" title="RPC failed without a status. This means that either the call got cancelled using TryCancel,...">RpcInterruptedError</a></code> immediately. gRPC provides no way to early-close a server-streaming RPC gracefully.</p>
<p><code>Read</code> and <code>AsyncRead</code> can throw if error status is received from server. User MUST NOT call <code>Read</code> or <code>AsyncRead</code> again after failure of any of these operations.</p>
<p><code>Write</code> and <code>WritesDone</code> methods do not throw, but indicate issues with the RPC by returning <code>false</code>.</p>
<p><code>WriteAndCheck</code> is intended for ping-pong scenarios, when after write operation the user calls <code>Read</code> and vice versa.</p>
<p>If <code>Write</code> or <code>WritesDone</code> returns negative result, the user MUST NOT call any of these methods anymore. Instead the user SHOULD call <code>Read</code> method until the end of input. If <code>Write</code> or <code>WritesDone</code> finishes with negative result, finally <code>Read</code> will throw an exception. </p>
<h2><a class="anchor" id="autotoc_md1076"></a>
Usage example:</h2>
<div class="fragment"><div class="line">    <span class="keyword">auto</span> write_task = <a class="code hl_function" href="../../dc/d3f/namespaceengine.html#ac249644dedd4351b50adc96c8b76c358" title="Runs an asynchronous function call using specified task processor.">engine::AsyncNoSpan</a>([&amp;stream, &amp;requests] {</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; request : requests) {</div>
<div class="line">            <span class="keyword">const</span> <span class="keywordtype">bool</span> success = stream.Write(request);</div>
<div class="line">            <span class="keywordflow">if</span> (!success) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> stream.WritesDone();</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    sample::ugrpc::StreamGreetingResponse response;</div>
<div class="line">    <span class="keywordflow">while</span> (stream.Read(response)) {</div>
<div class="line">        responses.push_back(std::move(response));</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    ASSERT_TRUE(write_task.Get());</div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="../../db/df8/client_2rpc_8hpp_source.html#l00359">359</a> of file <a class="el" href="../../db/df8/client_2rpc_8hpp_source.html">rpc.hpp</a>.</p>
</div><div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Inheritance diagram for ugrpc::client::BidirectionalStream&lt; Request, Response &gt;:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d0/d63/classugrpc_1_1client_1_1BidirectionalStream__inherit__graph.svg" width="234" height="124"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6b1925f2d0a3026552d38c7819c96a79" id="r_a6b1925f2d0a3026552d38c7819c96a79"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6b1925f2d0a3026552d38c7819c96a79">Read</a> (Response &amp;response)</td></tr>
<tr class="memdesc:a6b1925f2d0a3026552d38c7819c96a79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Await and read the next incoming message.  <br /></td></tr>
<tr class="separator:a6b1925f2d0a3026552d38c7819c96a79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae080c7731f9ab8b12409a3785cd0120f" id="r_ae080c7731f9ab8b12409a3785cd0120f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d9e/classugrpc_1_1client_1_1StreamReadFuture.html">StreamReadFuture</a>&lt; <a class="el" href="../../d1/dd7/classugrpc_1_1client_1_1BidirectionalStream.html">BidirectionalStream</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae080c7731f9ab8b12409a3785cd0120f">ReadAsync</a> (Response &amp;response) noexcept</td></tr>
<tr class="memdesc:ae080c7731f9ab8b12409a3785cd0120f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return future to read next incoming result.  <br /></td></tr>
<tr class="separator:ae080c7731f9ab8b12409a3785cd0120f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d76d47b4ab5368463446490c13f1406" id="r_a6d76d47b4ab5368463446490c13f1406"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6d76d47b4ab5368463446490c13f1406">Write</a> (const Request &amp;request)</td></tr>
<tr class="memdesc:a6d76d47b4ab5368463446490c13f1406"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the next outgoing message.  <br /></td></tr>
<tr class="separator:a6d76d47b4ab5368463446490c13f1406"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae050253177171f9f3dd4e7e1a490d357" id="r_ae050253177171f9f3dd4e7e1a490d357"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae050253177171f9f3dd4e7e1a490d357">WriteAndCheck</a> (const Request &amp;request)</td></tr>
<tr class="memdesc:ae050253177171f9f3dd4e7e1a490d357"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the next outgoing message and check result.  <br /></td></tr>
<tr class="separator:ae050253177171f9f3dd4e7e1a490d357"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a698dfe5e6af676771450ff19ffc44968" id="r_a698dfe5e6af676771450ff19ffc44968"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a698dfe5e6af676771450ff19ffc44968">WritesDone</a> ()</td></tr>
<tr class="memdesc:a698dfe5e6af676771450ff19ffc44968"><td class="mdescLeft">&#160;</td><td class="mdescRight">Announce end-of-output to the server.  <br /></td></tr>
<tr class="separator:a698dfe5e6af676771450ff19ffc44968"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1818f64c6748e13587826299779f837" id="r_ab1818f64c6748e13587826299779f837"><td class="memItemLeft" align="right" valign="top"><a id="ab1818f64c6748e13587826299779f837" name="ab1818f64c6748e13587826299779f837"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>BidirectionalStream</b> (<a class="el" href="../../d1/dd7/classugrpc_1_1client_1_1BidirectionalStream.html">BidirectionalStream</a> &amp;&amp;) noexcept=default</td></tr>
<tr class="separator:ab1818f64c6748e13587826299779f837"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59b6ce6269a543bc2b57e78b96be68e5" id="r_a59b6ce6269a543bc2b57e78b96be68e5"><td class="memItemLeft" align="right" valign="top"><a id="a59b6ce6269a543bc2b57e78b96be68e5" name="a59b6ce6269a543bc2b57e78b96be68e5"></a>
<a class="el" href="../../d1/dd7/classugrpc_1_1client_1_1BidirectionalStream.html">BidirectionalStream</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="../../d1/dd7/classugrpc_1_1client_1_1BidirectionalStream.html">BidirectionalStream</a> &amp;&amp;) noexcept=default</td></tr>
<tr class="separator:a59b6ce6269a543bc2b57e78b96be68e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68edee0914ad8a3ae46c22c0d14323b3" id="r_a68edee0914ad8a3ae46c22c0d14323b3"><td class="memItemLeft" align="right" valign="top">grpc::ClientContext &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2c/classugrpc_1_1client_1_1CallAnyBase.html#a68edee0914ad8a3ae46c22c0d14323b3">GetContext</a> ()</td></tr>
<tr class="separator:a68edee0914ad8a3ae46c22c0d14323b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ac5cd1b6b7ed81ec81a4f9cb2503b56" id="r_a7ac5cd1b6b7ed81ec81a4f9cb2503b56"><td class="memItemLeft" align="right" valign="top">std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2c/classugrpc_1_1client_1_1CallAnyBase.html#a7ac5cd1b6b7ed81ec81a4f9cb2503b56">GetClientName</a> () const</td></tr>
<tr class="separator:a7ac5cd1b6b7ed81ec81a4f9cb2503b56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4878b5d9b7fbea5e179e9b92820f1fe0" id="r_a4878b5d9b7fbea5e179e9b92820f1fe0"><td class="memItemLeft" align="right" valign="top">std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2c/classugrpc_1_1client_1_1CallAnyBase.html#a4878b5d9b7fbea5e179e9b92820f1fe0">GetCallName</a> () const</td></tr>
<tr class="separator:a4878b5d9b7fbea5e179e9b92820f1fe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87cb4c823962c2127429b83009e3b545" id="r_a87cb4c823962c2127429b83009e3b545"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d1a/classtracing_1_1Span.html">tracing::Span</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2c/classugrpc_1_1client_1_1CallAnyBase.html#a87cb4c823962c2127429b83009e3b545">GetSpan</a> ()</td></tr>
<tr class="separator:a87cb4c823962c2127429b83009e3b545"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a0a79555c0406a5d6e6fc68c995c01da2" id="r_a0a79555c0406a5d6e6fc68c995c01da2"><td class="memItemLeft" align="right" valign="top"><a id="a0a79555c0406a5d6e6fc68c995c01da2" name="a0a79555c0406a5d6e6fc68c995c01da2"></a>
impl::RpcData &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>GetData</b> ()</td></tr>
<tr class="separator:a0a79555c0406a5d6e6fc68c995c01da2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4878b5d9b7fbea5e179e9b92820f1fe0" name="a4878b5d9b7fbea5e179e9b92820f1fe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4878b5d9b7fbea5e179e9b92820f1fe0">&#9670;&#160;</a></span>GetCallName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string_view ugrpc::client::CallAnyBase::GetCallName </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>RPC name </dd></dl>

</div>
</div>
<a id="a7ac5cd1b6b7ed81ec81a4f9cb2503b56" name="a7ac5cd1b6b7ed81ec81a4f9cb2503b56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ac5cd1b6b7ed81ec81a4f9cb2503b56">&#9670;&#160;</a></span>GetClientName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string_view ugrpc::client::CallAnyBase::GetClientName </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>client name </dd></dl>

</div>
</div>
<a id="a68edee0914ad8a3ae46c22c0d14323b3" name="a68edee0914ad8a3ae46c22c0d14323b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68edee0914ad8a3ae46c22c0d14323b3">&#9670;&#160;</a></span>GetContext()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">grpc::ClientContext &amp; ugrpc::client::CallAnyBase::GetContext </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the <code>ClientContext</code> used for this RPC </dd></dl>

</div>
</div>
<a id="a87cb4c823962c2127429b83009e3b545" name="a87cb4c823962c2127429b83009e3b545"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87cb4c823962c2127429b83009e3b545">&#9670;&#160;</a></span>GetSpan()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d1a/classtracing_1_1Span.html">tracing::Span</a> &amp; ugrpc::client::CallAnyBase::GetSpan </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>RPC span </dd></dl>

</div>
</div>
<a id="a6b1925f2d0a3026552d38c7819c96a79" name="a6b1925f2d0a3026552d38c7819c96a79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b1925f2d0a3026552d38c7819c96a79">&#9670;&#160;</a></span>Read()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Request , typename Response &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="../../d1/dd7/classugrpc_1_1client_1_1BidirectionalStream.html">ugrpc::client::BidirectionalStream</a>&lt; Request, Response &gt;::Read </td>
          <td>(</td>
          <td class="paramtype">Response &amp;</td>          <td class="paramname"><span class="paramname"><em>response</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Await and read the next incoming message. </p>
<p>On end-of-input, <code>Finish</code> is called automatically.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">response</td><td>where to put response on success </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> on success, <code>false</code> on end-of-input or task cancellation </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d3/d28/classugrpc_1_1client_1_1RpcError.html" title="Error during an RPC.">ugrpc::client::RpcError</a></td><td>on an RPC error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/df8/client_2rpc_8hpp_source.html#l00645">645</a> of file <a class="el" href="../../db/df8/client_2rpc_8hpp_source.html">rpc.hpp</a>.</p>

</div>
</div>
<a id="ae080c7731f9ab8b12409a3785cd0120f" name="ae080c7731f9ab8b12409a3785cd0120f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae080c7731f9ab8b12409a3785cd0120f">&#9670;&#160;</a></span>ReadAsync()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Request , typename Response &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/d9e/classugrpc_1_1client_1_1StreamReadFuture.html">StreamReadFuture</a>&lt; <a class="el" href="../../d1/dd7/classugrpc_1_1client_1_1BidirectionalStream.html">BidirectionalStream</a>&lt; Request, Response &gt; &gt; <a class="el" href="../../d1/dd7/classugrpc_1_1client_1_1BidirectionalStream.html">ugrpc::client::BidirectionalStream</a>&lt; Request, Response &gt;::ReadAsync </td>
          <td>(</td>
          <td class="paramtype">Response &amp;</td>          <td class="paramname"><span class="paramname"><em>response</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return future to read next incoming result. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">response</td><td>where to put response on success </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d5/d9e/classugrpc_1_1client_1_1StreamReadFuture.html" title="StreamReadFuture for waiting a single read response from stream.">StreamReadFuture</a> future </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d3/d28/classugrpc_1_1client_1_1RpcError.html" title="Error during an RPC.">ugrpc::client::RpcError</a></td><td>on an RPC error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/df8/client_2rpc_8hpp_source.html#l00630">630</a> of file <a class="el" href="../../db/df8/client_2rpc_8hpp_source.html">rpc.hpp</a>.</p>

</div>
</div>
<a id="a6d76d47b4ab5368463446490c13f1406" name="a6d76d47b4ab5368463446490c13f1406"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d76d47b4ab5368463446490c13f1406">&#9670;&#160;</a></span>Write()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Request , typename Response &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="../../d1/dd7/classugrpc_1_1client_1_1BidirectionalStream.html">ugrpc::client::BidirectionalStream</a>&lt; Request, Response &gt;::Write </td>
          <td>(</td>
          <td class="paramtype">const Request &amp;</td>          <td class="paramname"><span class="paramname"><em>request</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the next outgoing message. </p>
<p>RPC will be performed immediately. No references to <code>request</code> are saved, so it can be deallocated right after the call.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>the next message to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the data is going to the wire; false if the write operation failed (including due to task cancellation), in which case no more writes will be accepted, but Read may still have some data and status code available </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/df8/client_2rpc_8hpp_source.html#l00651">651</a> of file <a class="el" href="../../db/df8/client_2rpc_8hpp_source.html">rpc.hpp</a>.</p>

</div>
</div>
<a id="ae050253177171f9f3dd4e7e1a490d357" name="ae050253177171f9f3dd4e7e1a490d357"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae050253177171f9f3dd4e7e1a490d357">&#9670;&#160;</a></span>WriteAndCheck()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Request , typename Response &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d1/dd7/classugrpc_1_1client_1_1BidirectionalStream.html">ugrpc::client::BidirectionalStream</a>&lt; Request, Response &gt;::WriteAndCheck </td>
          <td>(</td>
          <td class="paramtype">const Request &amp;</td>          <td class="paramname"><span class="paramname"><em>request</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the next outgoing message and check result. </p>
<p><code>WriteAndCheck</code> doesn't store any references to <code>request</code>, so it can be deallocated right after the call.</p>
<p><code>WriteAndCheck</code> verifies result of the write and generates exception in case of issues.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>the next message to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d3/d28/classugrpc_1_1client_1_1RpcError.html" title="Error during an RPC.">ugrpc::client::RpcError</a></td><td>on an RPC error </td></tr>
    <tr><td class="paramname"><a class="el" href="../../d8/ddb/classugrpc_1_1client_1_1RpcCancelledError.html" title="RPC failed due to task cancellation.">ugrpc::client::RpcCancelledError</a></td><td>on task cancellation </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/df8/client_2rpc_8hpp_source.html#l00660">660</a> of file <a class="el" href="../../db/df8/client_2rpc_8hpp_source.html">rpc.hpp</a>.</p>

</div>
</div>
<a id="a698dfe5e6af676771450ff19ffc44968" name="a698dfe5e6af676771450ff19ffc44968"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a698dfe5e6af676771450ff19ffc44968">&#9670;&#160;</a></span>WritesDone()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Request , typename Response &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="../../d1/dd7/classugrpc_1_1client_1_1BidirectionalStream.html">ugrpc::client::BidirectionalStream</a>&lt; Request, Response &gt;::WritesDone </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Announce end-of-output to the server. </p>
<p>Should be called to notify the server and receive the final response(s).</p>
<dl class="section return"><dt>Returns</dt><dd>true if the data is going to the wire; false if the operation failed, but Read may still have some data and status code available </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/df8/client_2rpc_8hpp_source.html#l00669">669</a> of file <a class="el" href="../../db/df8/client_2rpc_8hpp_source.html">rpc.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>userver/ugrpc/client/<a class="el" href="../../db/df8/client_2rpc_8hpp_source.html">rpc.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d0/d87/namespaceugrpc.html">ugrpc</a></li><li class="navelem"><a class="el" href="../../df/d12/namespaceugrpc_1_1client.html">client</a></li><li class="navelem"><a class="el" href="../../d1/dd7/classugrpc_1_1client_1_1BidirectionalStream.html">BidirectionalStream</a></li>
    <li class="footer">Generated on Mon Oct 21 2024 13:56:09 for userver by
    <a href="https://www.doxygen.org/index.html">Doxygen</a> 1.10.0</li>
  </ul>
</div>
<script type="text/javascript" src="../../codeHighlight.js"></script>
<script type="text/javascript" src="../../telegramLanguage.js"></script>
<script type="text/javascript" src="../../styledBtn.js"></script>
<script type="text/javascript" src="../../search.js"></script>
<script type="text/javascript" src="../../header.js"></script>
<script type="text/javascript" src="../../searchHighlight.js"></script>
<script>
  const addLinks = () =>  {
      const links = document.createElement('div')
      links.id = 'links';
      links.innerHTML = `
          <a href="https://github.com/userver-framework/" id='github_header' rel="noopener" target="_blank" class="titlelink">
              <img src="../../github_logo.svg" alt="Github" class="gh-logo"/>
          </a>
          <a href="https://t.me/userver_en" rel="noopener" id='telegram_channel' target="_blank" class="titlelink generic_tg_link">
              <img src="../../telegram_logo.svg" alt="Telegram"/>
          </a>
      `
      document.getElementById('main-navbar').appendChild(links);
  }
  $(function() {
    $(document).ready(function() {
      setTimeout(() => {
      init_all_results_button();
      init_search_hotkey();
      init_header();
      addLinks();
      changeTelegramChannelLanguageForRussianSpeakingUser();
      document.getElementById("side-nav").style.display = "none";
      const isLanding = document.getElementById('landing_logo_id') !== null;
      if (isLanding) return;
      highlight_code();
      styleNavButtons();
    }, 0);
    });
  });
</script>
<script type="module" src="../../toc.js"></script>
</body>
</html>
