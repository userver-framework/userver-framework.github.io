<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
    <head>
      <!-- Yandex.Metrika counter -->
      <script type="text/javascript" >
        (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
        (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
        ym(94541714, "init", {
            clickmap:true,
            trackLinks:true,
            accurateTrackBounce:true,
            webvisor:true
        });
      </script>
      <noscript><div><img src="https://mc.yandex.ru/watch/94541714" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
      <!-- /Yandex.Metrika counter -->
      <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
      <meta http-equiv="X-UA-Compatible" content="IE=9"/>
      <meta name="generator" content="Doxygen 1.10.0"/>
      <meta name="viewport" content="width=device-width, initial-scale=1"/>
      <meta property="og:image" content="../../logo_in_circle.png"/>
      <meta property="og:image:alt" content="userver logo"/>
      <link rel="icon" href="../../favicon.svg">
      <title>userver: engine::SharedMutex Class Reference</title>
      <!-- Roboto fonts -->
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital@0;1&family=Roboto:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap" rel="stylesheet">
      <!-- Roboto fonts -->
      <link href="../../tabs.css" rel="stylesheet" type="text/css"/>
      <script type="text/javascript" src="../../jquery.js"></script>
      <!-- Highlight.js -->
      <link rel="stylesheet" href="../../highlightjs.css">
      <script src="../../highlight.min.js"></script>
      <!-- Highlight.js -->
      <!-- Roboto fonts -->
      <script type="text/javascript" src="../../dynsections.js"></script>
      <link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
      <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
      <link href="../../doxygen.css" rel="stylesheet" type="text/css" />
      <link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
      <link rel="stylesheet" href="../../customdoxygen.css">
      <!-- Doxygen Awesome -->
      <script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
      <script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
      <script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
      <script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
      <script type="text/javascript">
        DoxygenAwesomeDarkModeToggle.init()
        DoxygenAwesomeFragmentCopyButton.init()
        DoxygenAwesomeParagraphLink.init()
        DoxygenAwesomeInteractiveToc.topOffset = 180;
      </script>
      <!-- Doxygen Awesome -->
    </head>
    <body>
      <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
          <table cellspacing="0" cellpadding="0" style="width: 100%;">
            <tbody>
              <tr style="height: 56px;">
                <td id="projectlogo"><a id='logo-anchor' href="../../index.html"><img alt="Logo" src="../../logo.svg"/></a></td>
                <td id="projectalign">
                  <div id="projectname">
                    <a class="titlelink" href="../../index.html">userver
                    </a>
                  </div>
                  <div id="projectbrief"><a class="titlelink" href="../../index.html">C++ Async Framework</a></div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- end header part --><!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d6/d70/classengine_1_1SharedMutex.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d8/dd6/classengine_1_1SharedMutex-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">engine::SharedMutex Class Reference<span class="mlabels"><span class="mlabel">final</span></span><div class="ingroups"><a class="el" href="../../dc/db7/group__userver__concurrency.html">Concurrency</a></div></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d8/d96/shared__mutex_8hpp_source.html">userver/engine/shared_mutex.hpp</a>&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>std::shared_mutex replacement for asynchronous tasks. </p>
<p>Ignores task cancellations (succeeds even if the current task is cancelled).</p>
<p>Writers (unique locks) have priority over readers (shared locks), thus new shared lock waits for the pending writes to finish, which in turn waits for existing existing shared locks to unlock first.</p>
<h2><a class="anchor" id="autotoc_md938"></a>
Example usage:</h2>
<div class="fragment"><div class="line"> </div>
<div class="line">    <span class="keyword">constexpr</span> <span class="keyword">auto</span> kTestString = <span class="stringliteral">&quot;123&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="../../d6/d70/classengine_1_1SharedMutex.html" title="std::shared_mutex replacement for asynchronous tasks.">engine::SharedMutex</a> mutex;</div>
<div class="line">    std::string data;</div>
<div class="line">    {</div>
<div class="line">        std::lock_guard&lt;engine::SharedMutex&gt; lock(mutex);</div>
<div class="line">        <span class="comment">// accessing the data under the mutex for writing</span></div>
<div class="line">        data = kTestString;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    {</div>
<div class="line">        std::shared_lock&lt;engine::SharedMutex&gt; lock(mutex);</div>
<div class="line">        <span class="comment">// accessing the data under the mutex for reading,</span></div>
<div class="line">        <span class="comment">// data cannot be changed</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; x = data;</div>
<div class="line">        ASSERT_EQ(x, kTestString);</div>
<div class="line">    }</div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d6/d6c/md_en_2userver_2synchronization.html">Synchronization Primitives</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d96/shared__mutex_8hpp_source.html#l00029">29</a> of file <a class="el" href="../../d8/d96/shared__mutex_8hpp_source.html">shared_mutex.hpp</a>.</p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7c3033b90649a5ba0699dd8eea24ae91" id="r_a7c3033b90649a5ba0699dd8eea24ae91"><td class="memItemLeft" align="right" valign="top"><a id="a7c3033b90649a5ba0699dd8eea24ae91" name="a7c3033b90649a5ba0699dd8eea24ae91"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>SharedMutex</b> (const <a class="el" href="../../d6/d70/classengine_1_1SharedMutex.html">SharedMutex</a> &amp;)=delete</td></tr>
<tr class="separator:a7c3033b90649a5ba0699dd8eea24ae91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc028bc059313d5ee43c476fd5449a7c" id="r_acc028bc059313d5ee43c476fd5449a7c"><td class="memItemLeft" align="right" valign="top"><a id="acc028bc059313d5ee43c476fd5449a7c" name="acc028bc059313d5ee43c476fd5449a7c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>SharedMutex</b> (<a class="el" href="../../d6/d70/classengine_1_1SharedMutex.html">SharedMutex</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:acc028bc059313d5ee43c476fd5449a7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1efc0b24c91bb771bed66ac88cf921d" id="r_aa1efc0b24c91bb771bed66ac88cf921d"><td class="memItemLeft" align="right" valign="top"><a id="aa1efc0b24c91bb771bed66ac88cf921d" name="aa1efc0b24c91bb771bed66ac88cf921d"></a>
<a class="el" href="../../d6/d70/classengine_1_1SharedMutex.html">SharedMutex</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="../../d6/d70/classengine_1_1SharedMutex.html">SharedMutex</a> &amp;)=delete</td></tr>
<tr class="separator:aa1efc0b24c91bb771bed66ac88cf921d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6b1d3e1fa870d9e400f2adeff46651b" id="r_ad6b1d3e1fa870d9e400f2adeff46651b"><td class="memItemLeft" align="right" valign="top"><a id="ad6b1d3e1fa870d9e400f2adeff46651b" name="ad6b1d3e1fa870d9e400f2adeff46651b"></a>
<a class="el" href="../../d6/d70/classengine_1_1SharedMutex.html">SharedMutex</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="../../d6/d70/classengine_1_1SharedMutex.html">SharedMutex</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:ad6b1d3e1fa870d9e400f2adeff46651b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32b4078f3319f20f8d393acb608d9e52" id="r_a32b4078f3319f20f8d393acb608d9e52"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32b4078f3319f20f8d393acb608d9e52">lock</a> ()</td></tr>
<tr class="separator:a32b4078f3319f20f8d393acb608d9e52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cb7219482b2932c9b2e68af37889fbb" id="r_a3cb7219482b2932c9b2e68af37889fbb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3cb7219482b2932c9b2e68af37889fbb">unlock</a> ()</td></tr>
<tr class="separator:a3cb7219482b2932c9b2e68af37889fbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c2757d7ae76a3e855c49a174fac97df" id="r_a3c2757d7ae76a3e855c49a174fac97df"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c2757d7ae76a3e855c49a174fac97df">try_lock</a> ()</td></tr>
<tr class="separator:a3c2757d7ae76a3e855c49a174fac97df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae862e59b5f946ceed3d8c0f4601a3788" id="r_ae862e59b5f946ceed3d8c0f4601a3788"><td class="memTemplParams" colspan="2">template&lt;typename Rep , typename Period &gt; </td></tr>
<tr class="memitem:ae862e59b5f946ceed3d8c0f4601a3788"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#ae862e59b5f946ceed3d8c0f4601a3788">try_lock_for</a> (const std::chrono::duration&lt; Rep, Period &gt; &amp;)</td></tr>
<tr class="separator:ae862e59b5f946ceed3d8c0f4601a3788"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2983bdb7ad728a11d9c878568fb47b5" id="r_ae2983bdb7ad728a11d9c878568fb47b5"><td class="memTemplParams" colspan="2">template&lt;typename Clock , typename Duration &gt; </td></tr>
<tr class="memitem:ae2983bdb7ad728a11d9c878568fb47b5"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#ae2983bdb7ad728a11d9c878568fb47b5">try_lock_until</a> (const std::chrono::time_point&lt; Clock, Duration &gt; &amp;)</td></tr>
<tr class="separator:ae2983bdb7ad728a11d9c878568fb47b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ebb1c170ecdfed7812c7705462061ed" id="r_a8ebb1c170ecdfed7812c7705462061ed"><td class="memItemLeft" align="right" valign="top"><a id="a8ebb1c170ecdfed7812c7705462061ed" name="a8ebb1c170ecdfed7812c7705462061ed"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>try_lock_until</b> (<a class="el" href="../../de/d6a/classengine_1_1Deadline.html">Deadline</a> deadline)</td></tr>
<tr class="memdesc:a8ebb1c170ecdfed7812c7705462061ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts. <br /></td></tr>
<tr class="separator:a8ebb1c170ecdfed7812c7705462061ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0af56f6c6343512b740c0898460a4354" id="r_a0af56f6c6343512b740c0898460a4354"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0af56f6c6343512b740c0898460a4354">lock_shared</a> ()</td></tr>
<tr class="separator:a0af56f6c6343512b740c0898460a4354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e78e6a77ac6f133bccddcfb3ef8c068" id="r_a0e78e6a77ac6f133bccddcfb3ef8c068"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0e78e6a77ac6f133bccddcfb3ef8c068">unlock_shared</a> ()</td></tr>
<tr class="separator:a0e78e6a77ac6f133bccddcfb3ef8c068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5c19d65e405a6900aadcb6ebccabd97" id="r_af5c19d65e405a6900aadcb6ebccabd97"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af5c19d65e405a6900aadcb6ebccabd97">try_lock_shared</a> ()</td></tr>
<tr class="separator:af5c19d65e405a6900aadcb6ebccabd97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66d68e994ab7e6e8a5966633584ead4e" id="r_a66d68e994ab7e6e8a5966633584ead4e"><td class="memTemplParams" colspan="2">template&lt;typename Rep , typename Period &gt; </td></tr>
<tr class="memitem:a66d68e994ab7e6e8a5966633584ead4e"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a66d68e994ab7e6e8a5966633584ead4e">try_lock_shared_for</a> (const std::chrono::duration&lt; Rep, Period &gt; &amp;)</td></tr>
<tr class="separator:a66d68e994ab7e6e8a5966633584ead4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6eaa2adbf540971a07379d4ab377a83" id="r_aa6eaa2adbf540971a07379d4ab377a83"><td class="memTemplParams" colspan="2">template&lt;typename Clock , typename Duration &gt; </td></tr>
<tr class="memitem:aa6eaa2adbf540971a07379d4ab377a83"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#aa6eaa2adbf540971a07379d4ab377a83">try_lock_shared_until</a> (const std::chrono::time_point&lt; Clock, Duration &gt; &amp;)</td></tr>
<tr class="separator:aa6eaa2adbf540971a07379d4ab377a83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad889e96197f1305968fa0f8f8f28530a" id="r_ad889e96197f1305968fa0f8f8f28530a"><td class="memItemLeft" align="right" valign="top"><a id="ad889e96197f1305968fa0f8f8f28530a" name="ad889e96197f1305968fa0f8f8f28530a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>try_lock_shared_until</b> (<a class="el" href="../../de/d6a/classengine_1_1Deadline.html">Deadline</a> deadline)</td></tr>
<tr class="memdesc:ad889e96197f1305968fa0f8f8f28530a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts. <br /></td></tr>
<tr class="separator:ad889e96197f1305968fa0f8f8f28530a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a32b4078f3319f20f8d393acb608d9e52" name="a32b4078f3319f20f8d393acb608d9e52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32b4078f3319f20f8d393acb608d9e52">&#9670;&#160;</a></span>lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void engine::SharedMutex::lock </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Locks the mutex for unique ownership. Blocks current coroutine if the mutex is locked by another coroutine for reading or writing.</p>
<dl class="section note"><dt>Note</dt><dd>The method waits for the mutex even if the current task is cancelled. </dd></dl>

</div>
</div>
<a id="a0af56f6c6343512b740c0898460a4354" name="a0af56f6c6343512b740c0898460a4354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0af56f6c6343512b740c0898460a4354">&#9670;&#160;</a></span>lock_shared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void engine::SharedMutex::lock_shared </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Locks the mutex for shared ownership. Blocks current coroutine if the mutex is locked by another coroutine for reading or writing.</p>
<dl class="section note"><dt>Note</dt><dd>The method waits for the mutex even if the current task is cancelled. </dd></dl>

</div>
</div>
<a id="a3c2757d7ae76a3e855c49a174fac97df" name="a3c2757d7ae76a3e855c49a174fac97df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c2757d7ae76a3e855c49a174fac97df">&#9670;&#160;</a></span>try_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool engine::SharedMutex::try_lock </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tries to lock the mutex for unique ownership without blocking the coroutine, returns true if succeeded. </p>

</div>
</div>
<a id="ae862e59b5f946ceed3d8c0f4601a3788" name="ae862e59b5f946ceed3d8c0f4601a3788"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae862e59b5f946ceed3d8c0f4601a3788">&#9670;&#160;</a></span>try_lock_for()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Rep , typename Period &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool engine::SharedMutex::try_lock_for </td>
          <td>(</td>
          <td class="paramtype">const std::chrono::duration&lt; Rep, Period &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>duration</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tries to lock the mutex for unique ownership in specified duration. Blocks current coroutine if the mutex is locked by another coroutine up to the provided duration.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the locking succeeded </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d96/shared__mutex_8hpp_source.html#l00139">139</a> of file <a class="el" href="../../d8/d96/shared__mutex_8hpp_source.html">shared_mutex.hpp</a>.</p>

</div>
</div>
<a id="af5c19d65e405a6900aadcb6ebccabd97" name="af5c19d65e405a6900aadcb6ebccabd97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5c19d65e405a6900aadcb6ebccabd97">&#9670;&#160;</a></span>try_lock_shared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool engine::SharedMutex::try_lock_shared </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tries to lock the mutex for shared ownership without blocking the coroutine, returns true if succeeded. </p>

</div>
</div>
<a id="a66d68e994ab7e6e8a5966633584ead4e" name="a66d68e994ab7e6e8a5966633584ead4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66d68e994ab7e6e8a5966633584ead4e">&#9670;&#160;</a></span>try_lock_shared_for()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Rep , typename Period &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool engine::SharedMutex::try_lock_shared_for </td>
          <td>(</td>
          <td class="paramtype">const std::chrono::duration&lt; Rep, Period &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>duration</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tries to lock the mutex for shared ownership in specified duration. Blocks current coroutine if the mutex is locked by another coroutine up to the provided duration.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the locking succeeded </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d96/shared__mutex_8hpp_source.html#l00144">144</a> of file <a class="el" href="../../d8/d96/shared__mutex_8hpp_source.html">shared_mutex.hpp</a>.</p>

</div>
</div>
<a id="aa6eaa2adbf540971a07379d4ab377a83" name="aa6eaa2adbf540971a07379d4ab377a83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6eaa2adbf540971a07379d4ab377a83">&#9670;&#160;</a></span>try_lock_shared_until()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Clock , typename Duration &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool engine::SharedMutex::try_lock_shared_until </td>
          <td>(</td>
          <td class="paramtype">const std::chrono::time_point&lt; Clock, Duration &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>until</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tries to lock the mutex for shared ownership till specified time point. Blocks current coroutine if the mutex is locked by another coroutine up to the provided duration.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the locking succeeded </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d96/shared__mutex_8hpp_source.html#l00154">154</a> of file <a class="el" href="../../d8/d96/shared__mutex_8hpp_source.html">shared_mutex.hpp</a>.</p>

</div>
</div>
<a id="ae2983bdb7ad728a11d9c878568fb47b5" name="ae2983bdb7ad728a11d9c878568fb47b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2983bdb7ad728a11d9c878568fb47b5">&#9670;&#160;</a></span>try_lock_until()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Clock , typename Duration &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool engine::SharedMutex::try_lock_until </td>
          <td>(</td>
          <td class="paramtype">const std::chrono::time_point&lt; Clock, Duration &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>until</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tries to lock the mutex for unique ownership till specified time point. Blocks current coroutine if the mutex is locked by another coroutine up to the provided duration.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the locking succeeded </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d96/shared__mutex_8hpp_source.html#l00149">149</a> of file <a class="el" href="../../d8/d96/shared__mutex_8hpp_source.html">shared_mutex.hpp</a>.</p>

</div>
</div>
<a id="a3cb7219482b2932c9b2e68af37889fbb" name="a3cb7219482b2932c9b2e68af37889fbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cb7219482b2932c9b2e68af37889fbb">&#9670;&#160;</a></span>unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void engine::SharedMutex::unlock </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unlocks the mutex for unique ownership. Before calling this method the the mutex should be locked for unique ownership by current coroutine.</p>
<dl class="section note"><dt>Note</dt><dd>the order of coroutines to unblock is unspecified. Any code assuming any specific order (e.g. FIFO) is incorrect and should be fixed. </dd></dl>

</div>
</div>
<a id="a0e78e6a77ac6f133bccddcfb3ef8c068" name="a0e78e6a77ac6f133bccddcfb3ef8c068"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e78e6a77ac6f133bccddcfb3ef8c068">&#9670;&#160;</a></span>unlock_shared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void engine::SharedMutex::unlock_shared </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unlocks the mutex for shared ownership. Before calling this method the mutex should be locked for shared ownership by current coroutine.</p>
<dl class="section note"><dt>Note</dt><dd>the order of coroutines to unblock is unspecified. Any code assuming any specific order (e.g. FIFO) is incorrect and should be fixed. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>userver/engine/<a class="el" href="../../d8/d96/shared__mutex_8hpp_source.html">shared_mutex.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dc/d3f/namespaceengine.html">engine</a></li><li class="navelem"><a class="el" href="../../d6/d70/classengine_1_1SharedMutex.html">SharedMutex</a></li>
    <li class="footer">Generated on Mon Oct 21 2024 13:56:02 for userver by
    <a href="https://www.doxygen.org/index.html">Doxygen</a> 1.10.0</li>
  </ul>
</div>
<script type="text/javascript" src="../../codeHighlight.js"></script>
<script type="text/javascript" src="../../telegramLanguage.js"></script>
<script type="text/javascript" src="../../styledBtn.js"></script>
<script type="text/javascript" src="../../search.js"></script>
<script type="text/javascript" src="../../header.js"></script>
<script type="text/javascript" src="../../searchHighlight.js"></script>
<script>
  const addLinks = () =>  {
      const links = document.createElement('div')
      links.id = 'links';
      links.innerHTML = `
          <a href="https://github.com/userver-framework/" id='github_header' rel="noopener" target="_blank" class="titlelink">
              <img src="../../github_logo.svg" alt="Github" class="gh-logo"/>
          </a>
          <a href="https://t.me/userver_en" rel="noopener" id='telegram_channel' target="_blank" class="titlelink generic_tg_link">
              <img src="../../telegram_logo.svg" alt="Telegram"/>
          </a>
      `
      document.getElementById('main-navbar').appendChild(links);
  }
  $(function() {
    $(document).ready(function() {
      setTimeout(() => {
      init_all_results_button();
      init_search_hotkey();
      init_header();
      addLinks();
      changeTelegramChannelLanguageForRussianSpeakingUser();
      document.getElementById("side-nav").style.display = "none";
      const isLanding = document.getElementById('landing_logo_id') !== null;
      if (isLanding) return;
      highlight_code();
      styleNavButtons();
    }, 0);
    });
  });
</script>
<script type="module" src="../../toc.js"></script>
</body>
</html>
